apiVersion: v1
kind: ConfigMap
metadata:
  name: rsearch-config
  namespace: rsearch
  labels:
    app.kubernetes.io/name: rsearch
    app.kubernetes.io/component: config
data:
  # Server Configuration
  RSEARCH_SERVER_HOST: "0.0.0.0"
  RSEARCH_SERVER_PORT: "8080"
  RSEARCH_SERVER_READTIMEOUT: "30s"
  RSEARCH_SERVER_WRITETIMEOUT: "30s"
  RSEARCH_SERVER_SHUTDOWNTIMEOUT: "10s"

  # Logging Configuration
  RSEARCH_LOGGING_LEVEL: "info"
  RSEARCH_LOGGING_FORMAT: "json"
  RSEARCH_LOGGING_OUTPUT: "stdout"

  # Metrics Configuration
  RSEARCH_METRICS_ENABLED: "true"
  RSEARCH_METRICS_PORT: "9090"
  RSEARCH_METRICS_PATH: "/metrics"

  # CORS Configuration
  RSEARCH_CORS_ENABLED: "true"
  RSEARCH_CORS_ALLOWEDORIGINS_0: "*"
  RSEARCH_CORS_ALLOWEDMETHODS_0: "GET"
  RSEARCH_CORS_ALLOWEDMETHODS_1: "POST"
  RSEARCH_CORS_ALLOWEDMETHODS_2: "DELETE"

  # Schema Configuration
  RSEARCH_SCHEMAS_LOADFROMFILES: "false"
  RSEARCH_SCHEMAS_DIRECTORY: "/app/schemas"

  # Limits Configuration
  RSEARCH_LIMITS_MAXQUERYLENGTH: "10000"
  RSEARCH_LIMITS_MAXPARAMETERCOUNT: "100"
  RSEARCH_LIMITS_MAXPARSEDEPTH: "50"
  RSEARCH_LIMITS_MAXSCHEMAFIELDS: "1000"
  RSEARCH_LIMITS_MAXFIELDNAMELENGTH: "255"
  RSEARCH_LIMITS_MAXSCHEMAS: "100"
  RSEARCH_LIMITS_MAXREQUESTBODYSIZE: "1048576"
  RSEARCH_LIMITS_REQUESTTIMEOUT: "30s"
  RSEARCH_LIMITS_RATELIMIT_ENABLED: "true"
  RSEARCH_LIMITS_RATELIMIT_REQUESTSPERMINUTE: "1000"
  RSEARCH_LIMITS_RATELIMIT_REQUESTSPERHOUR: "50000"
  RSEARCH_LIMITS_RATELIMIT_BURST: "50"

  # Cache Configuration
  RSEARCH_CACHE_ENABLED: "true"
  RSEARCH_CACHE_MAXSIZE: "10000"
  RSEARCH_CACHE_TTL: "3600"

  # Security Configuration
  RSEARCH_SECURITY_ALLOWEDSPECIALCHARS: ".-_"
  RSEARCH_SECURITY_BLOCKSQLKEYWORDS: "true"

  # Features Configuration
  RSEARCH_FEATURES_QUERYSUGGESTIONS: "false"
  RSEARCH_FEATURES_MAXQUERYLENGTH: "1000"
  RSEARCH_FEATURES_REQUESTIDHEADER: "X-Request-ID"

  # API Configuration
  RSEARCH_API_VERSIONS_V1_ENABLED: "true"
  RSEARCH_API_VERSIONS_V1_DEPRECATED: "false"
